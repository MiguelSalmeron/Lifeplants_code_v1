<section id="editProfileSection" class="content-section page-content">

    <div class="settings-layout">

        <aside class="settings-nav">
            <h3>Configuración</h3>
            <ul class="settings-nav-list">
                <li>
                    <a href="/editar-perfil" class="active" data-navigate="/editar-perfil">
                        <span class="material-symbols-outlined">edit</span>
                        Editar Perfil
                    </a>
                </li>
                <li>
                    <a href="/configuracion" data-navigate="/configuracion">
                        <span class="material-symbols-outlined">tune</span>
                        Accesibilidad
                    </a>
                </li>
                <li>
                    <a href="#" style="color: var(--secondary-text-color); cursor: not-allowed;">
                        <span class="material-symbols-outlined">security</span>
                        Cuenta (próximamente)
                    </a>
                </li>
            </ul>
        </aside>

        <main class="settings-content">

            <form id="editProfileForm">

                <h2>Editar Perfil</h2>

                <div class="profile-header" style="justify-content: flex-start; gap: 20px; margin-bottom: 2.5rem;">
                    <div id="profilePictureContainer">
                        <img id="profilePicturePreview" src="https://placehold.co/150x150/4CAF50/FFFFFF?text=LP" alt="Foto de perfil" loading="lazy" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 3px solid var(--border-color);">

                        <button type="button" id="changeProfilePicBtn" aria-label="Cambiar foto de perfil" style="width: 36px; height: 36px;">
                            <span class="material-symbols-outlined">edit</span>
                        </button>

                        <input type="file" id="profilePictureUpload" accept="image/*" style="display: none;">
                    </div>
                    <div>
                        <h3 id="previewDisplayName" style="margin: 0.5rem 0 0.2rem;">Cargando...</h3>
                        <p id="previewUsername" style="color: var(--secondary-text-color); margin: 0; font-size: 1.1em;">@cargando...</p>
                    </div>
                </div>

                <div class="form-field">
                    <label for="displayNameInput">Nombre</label>
                    <input type="text" id="displayNameInput" placeholder="Tu nombre completo" required>
                </div>

                <div class="form-field">
                    <label for="usernameInput">Nombre de Usuario</label>
                    <div style="position: relative;">
                         <span style="position: absolute; left: 12px; top: 12px; font-size: 1em; color: var(--secondary-text-color);">@</span>
                        <input type="text" id="usernameInput" placeholder="tu_usuario_unico" required pattern="^[a-zA-Z0-9_.]+$" style="padding-left: 28px;">
                    </div>
                     <p id="usernameStatus" style="font-size: 0.85em; margin-top: 5px; min-height: 1.2em;"></p>
                </div>

                <div class="form-field">
                    <label for="bioTextarea">Biografía</label>
                    <textarea id="bioTextarea" placeholder="Escribe un poco sobre ti..." rows="4"></textarea>
                </div>

                <div class="button-group" style="display: flex; gap: 15px; justify-content: flex-end; margin-top: 2rem; border-top: 1px solid var(--border-color); padding-top: 1.5rem;">
                    <button type="button" id="cancelBtn" class="button-secondary">Cancelar</button>
                    <button type="submit" id="saveProfileBtn" class="button-primary">Guardar Cambios</button>
                </div>

            </form>

        </main>
    </div>

</section>


